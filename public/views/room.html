<!doctype html>
<html
    lang="en"
    class="font-inter relative h-full w-full scroll-smooth bg-zinc-900 text-white"
>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="/static/styles.css" />
        <script
            src="https://unpkg.com/htmx.org@1.9.6"
            integrity="sha384-FhXw7b6AlE/jyjlZH5iHa/tTe9EpJ1Y55RjcgPbjeWMskSxZt1v9qkxLJWNJaGni"
            crossorigin="anonymous"
        ></script>
        <script src="https://unpkg.com/htmx.org/dist/ext/ws.js"></script>
        <script src="https://unpkg.com/hyperscript.org@0.9.12"></script>
        <title>Hososuru!</title>
    </head>

    <body class="h-full w-full" hx-ext="ws" ws-connect="/ws/{{ .RoomId }}">
        <header class="border-b border-white/10 py-6 pl-12">
            <h1>Connection Status: <span id="status">Disconnected</span></h1>
            <h2>Room ID: <span id="status">{{ .RoomId }}</span></h3>
        </header>
        <div
            class="hidden lg:fixed lg:inset-y-0 lg:right-0 lg:z-10 lg:flex lg:w-72 lg:flex-col"
        >
            <div
                class="flex grow flex-col gap-y-5 overflow-y-auto border-l border-white/10 bg-zinc-900 px-6 pb-4"
            >
                <form ws-send="send:submit" class="mt-auto space-y-2">
                    <div>
                        <label
                            for="chatInput"
                            class="block text-sm font-medium leading-6 text-zinc-400"
                        >
                            Message
                        </label>
                        <span id="chatInputDescription" class="sr-only"
                            >Enter a message to send to people in the
                            broadcast.</span
                        >
                        <input
                            id="chatInput"
                            name="chatMessage"
                            min="1"
                            class="block w-full rounded-md border-0 bg-zinc-800 px-2.5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 placeholder:text-zinc-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"
                            aria-describedby="chatInputDescription"
                            required
                        />
                    </div>
                    <div class="flex items-center justify-end">
                        <button
                            type="submit"
                            class="rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-md hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                        >
                            Send
                        </button>
                    </div>
                </form>
            </div>
        </div>
        <main class="flex items-center px-8 lg:pr-80">
            <div class="space-y-4">
                <video id="hoso" class="w-full">
                    <source src="/hoso/{{ .RoomId }}" type="video/mp4" />
                </video>
                <div>
                    <form ws-send="send:submit">
                        <input hidden name="videoStatus" value="toggle" />
                        <button
                            type="submit"
                            class="capitalize rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-md hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                            id="playBtn"
                        >
                            play
                        </button>
                    </form>
                </div>
            </div>
        </main>
        <script src="/static/ws.js" type="text/javascript"></script>
    </body>
</html>
